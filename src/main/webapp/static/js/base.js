var B=this.B||{};B.Resource=B.Resource||{};B.App=B.App||{};B.win=this;B.log=function(A){if(B.isIE6){return}else{return console.log(A)}};B.error=function(A){if(B.isIE6){return}else{return console.error(A)}};(function(C){var D=navigator.userAgent.toLowerCase(),A=function(E){return E.test(D)};C.isFireFox=A(/firefox/);C.isOpera=A(/opera/);C.isChrome=A(/chrome/);C.isWebKit=A(/webkit/);C.isSafari=!C.isChrome&&A(/safari/);C.isIE=!C.isOpera&&A(/msie/);C.isIE6=C.isIE&&A(/msie 6/);C.isIE7=C.isIE&&A(/msie 7/);C.isIE8=C.isIE&&A(/msie 8/);C.isIE9=C.isIE&&A(/msie 9/)})(B);(function(E){var D=Array.prototype,G=Object.prototype,C=Function.prototype;var A=D.slice,J=G.toString,I=G.hasOwnProperty;var F=Array.isArray,H=Object.keys;E.keys=H||function(L){if(L!==Object(L)){throw new TypeError("Invalid object")}var M=[];for(var K in L){if(I.call(L,K)){M[M.length]=K}}return M};E.values=function(K){return E.map(K,E.identity)};E.methods=function(K){return E.filter(E.keys(K),function(L){return E.isFunction(K[L])}).sort()};E.mix=function(K){E.forEach(A.call(arguments,1),function(L){for(var M in L){if(L[M]!==void 0){K[M]=L[M]}}});return K};E.clone=function(K){return E.isArray(K)?K.slice():E.mix({},K)};E.isEmpty=function(L){if(E.isArray(L)||E.isString(L)){return L.length===0}for(var K in L){if(I.call(L,K)){return false}}return true};E.isElement=function(K){return !!(K&&K.nodeType==1)};E.isArray=F||function(K){return J.call(K)==="[object Array]"};E.isFunction=function(K){return !!(K&&K.constructor&&K.call&&K.apply)};E.isString=function(K){return !!(K===""||(K&&K.charCodeAt&&K.substr))};E.isNumber=function(K){return !!(K===0||(K&&K.toExponential&&K.toFixed))};E.isNaN=function(K){return K!==K};E.isBoolean=function(K){return K===true||K===false};E.isDate=function(K){return !!(K&&K.getTimezoneOffset&&K.setUTCFullYear)};E.isRegExp=function(K){return !!(K&&K.test&&K.exec&&(K.ignoreCase||K.ignoreCase===false))};E.isNull=function(K){return K===null};E.isUndefined=function(K){return K===void 0};E.isArguments=function(K){return K&&E.isNumber(K.length)&&!K.concat&&!K.substr&&!K.apply&&!Object.prototype.propertyIsEnumerable.call(K,"length")};E.toType=function(K){return Object.prototype.toString.call(K).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};E.provide=function(K,L){L=L||{};if(!E[K]){E[K]=L}return E[K]}})(B);(function(C){C.identity=function(D){return D};var A=0;C.uniqueId=function(D){var E=A++;return D?D+E:E}})(B);(function(G){var E=Array.prototype,K=Object.prototype,C=Function.prototype;var A=E.slice,Q=K.hasOwnProperty;var F=E.forEach,I=E.map,M=E.reduce,D=E.reduceRight,P=E.filter,N=E.every,O=E.some,L=E.indexOf,J=E.lastIndexOf;var H={};G.forEach=function(T,S,R){if(T==null){return}if(F&&T.forEach===F){T.forEach(S,R)}else{if(G.isNumber(T.length)){for(var U=0,V=T.length;U<V;U++){if(S.call(R,T[U],U,T)==H){return}}}else{for(var W in T){if(Q.call(T,W)){if(S.call(R,T[W],W,T)===H){return}}}}}};G.map=function(T,S,R){var U=[];if(T==null){return U}if(I&&T.map===I){return T.map(S,R)}G.forEach(T,function(X,V,W){U[U.length]=S.call(R,X,V,W)});return U};G.reduce=function(T,S,U,R){var V=U!==void 0;if(T==null){T=[]}if(M&&T.reduce===M){if(R){S=G.bind(S,R)}return V?T.reduce(S,U):T.reduce(S)}G.forEach(T,function(Y,W,X){if(!V&&W===0){U=Y;V=true}else{U=S.call(R,U,Y,W,X)}});if(!V){throw new TypeError("Reduce of empty array with no initial value")}return U};G.reduceRight=function(T,S,U,R){if(T==null){T=[]}if(D&&T.reduceRight===D){if(R){S=G.bind(S,R)}return U!==void 0?T.reduceRight(S,U):T.reduceRight(S)}var V=(G.isArray(T)?T.slice():G.toArray(T)).reverse();return G.reduce(V,S,U,R)};G.detect=function(T,S,R){var U;G.some(T,function(X,V,W){if(S.call(R,X,V,W)){U=X;return true}});return U};G.filter=function(T,S,R){var U=[];if(T==null){return U}if(P&&T.filter===P){return T.filter(S,R)}G.forEach(T,function(X,V,W){if(S.call(R,X,V,W)){U[U.length]=X}});return U};G.every=function(T,S,R){var U=true;if(T==null){return U}if(N&&T.every===N){return T.every(S,R)}G.forEach(T,function(X,V,W){if(!(U=U&&S.call(R,X,V,W))){return H}});return U};G.some=function(T,S,R){S||(S=G.identity);var U=false;if(T==null){return U}if(O&&T.some===O){return T.some(S,R)}G.forEach(T,function(X,V,W){if(S.call(R,X,V,W)){U=true;return H}});return U};G.contains=function(R,S){var T=false;if(R==null){return T}if(L&&R.indexOf===L){return R.indexOf(S)!=-1}G.some(R,function(U){if(T=U===S){return true}});return T};G.pluck=function(S,R){return G.map(S,function(T){return T[R]})};G.sortBy=function(T,S,R){return G.pluck(G.map(T,function(W,U,V){return{value:W,criteria:S.call(R,W,U,V)}}).sort(function(V,U){var X=V.criteria,W=U.criteria;return X<W?-1:X>W?1:0}),"value")};G.sortedIndex=function(R,S,U){U||(U=G.identity);var V=0,W=R.length;while(V<W){var T=(V+W)>>1;U(R[T])<U(S)?V=T+1:W=T}return V};G.toArray=function(R){if(!R){return[]}if(R.toArray){return R.toArray()}if(G.isArray(R)){return R}if(G.isArguments(R)){return A.call(R)}return G.values(R)};G.first=function(R){var S=R.length;return S>0?R[0]:undefined};G.last=function(R){var S=R.length;return S>0?R[S-1]:undefined};G.compact=function(R){return G.filter(R,function(S){return !!S})};G.flatten=function(R){return G.reduce(R,function(S,T){if(G.isArray(T)){return S.concat(G.flatten(T))}S[S.length]=T;return S},[])};G.without=function(R,S){var T=A.call(arguments,1);return G.filter(R,function(U){return !G.contains(T,U)})};G.unique=function(R,S){return G.reduce(R,function(V,T,U){if(0==U||(S===true?G.last(V)!=T:!G.contains(V,T))){V[V.length]=T}return V},[])};G.intersect=function(R){var S=A.call(arguments,1);return G.filter(G.unique(R),function(T){return G.every(S,function(U){return G.indexOf(U,T)>=0})})};G.indexOf=function(R,V,S){if(R==null){return -1}var T,U;if(S){T=G.sortedIndex(R,V);return R[T]===V?T:-1}if(L&&R.indexOf===L){return R.indexOf(V)}for(T=0,U=R.length;T<U;T++){if(R[T]===V){return T}}return -1};G.lastIndexOf=function(R,T){if(R==null){return -1}if(J&&R.lastIndexOf===J){return R.lastIndexOf(T)}var S=R.length;while(S--){if(R[S]===T){return S}}return -1}})(B);(function(A){A.trim=function(C){return C.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")};A.getLen=function(C){return C.replace(/[^\x00-\xff]/g,"--").length};A.subByte=function(D,E,C){if(A.getLen(D)<E){return D}C=C||"";E-=A.getLen(C);return D.substr(0,E).replace(/([^\x00-\xff])/g,"$1 ").substr(0,E).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1")+C};A.encode2HTTP=function(C){return C.replace(/[\u0000-\u0020\u0080-\u00ff\s"'#\/\|\\%<>\[\]\{\}\^~;\?\:@=&]/,function(D){return encodeURIComponent(D)})};A.encode2Html=function(C){return C.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};A.replaceAll=function(C,D,E){return E.replace(new RegExp(C,"gm"),D)};A.json1Html=function(D,C){A.forEach(D,function(E,F){C=A.replaceAll("\\$\\{"+F+"\\}\\$",E,C)});return C};A.json2Html=function(E,D){var C="";A.forEach(E,function(F,G){C+=A.json1Html(F,D)});return C};A.encode2HtmlValue=function(C){return A.encode2Html(C).replace(/"/g,"&quot;").replace(/'/g,"&#039;")};A.stripTags=function(C){return C.replace(/<[^>]*>/gi,"")};A.formatDate=function(C,F){F=F||"yyyy-MM-dd";var G=C.getFullYear();var E={"M":C.getMonth()+1,"d":C.getDate(),"h":C.getHours(),"m":C.getMinutes(),"s":C.getSeconds()};F=F.replace(/(y+)/ig,function(J,H){var I=Math.min(4,H.length);return(G+"").substr(4-I)});for(var D in E){F=F.replace(new RegExp("("+D+"+)","g"),function(I,H){return(E[D]<10&&H.length>1)?"0"+E[D]:E[D]})}return F}})(B);